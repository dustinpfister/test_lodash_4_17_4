 <!doctype html>
 <html>
 <head>
 <title> lodash </title>
 </head>
 <body>

 <script src="../lodash.js"></script>
 <script>
 
 
 var grab = _.once(function(val){
 
    return _.clone(val);
 
 });
 
 //console.log(grab(42)); // 42
 //console.log(grab(43)); // 42
 
 var obj = {x:41};
 
 obj.x += 1;
 
 console.log(grab(obj)); // {x:42}
 
 obj.x += 1;
 
 console.log(grab(obj)); // {x:43}
 
 /*
 var trap = _.once(function(mess){
 
    console.log(mess);
 
 });
 
 console.log(trap);
 
 trap('okay'); // 'okay' logged to the console
 trap('nope'); // ( nothing )
 */
 
/*
var hold = _.once(function(obj){
 
    // I want a shallow copy of the given object
    // and not a reference so _.clone it
    return _.clone(obj);
 
});
 
var values = {
 
    x: 0,
    dx: 5
 
};
 
var loop = function(){
 
    values.x += values.dx;
 
    // because hold was made with _.once
    // hold with log {x:5,dx:5} on each tick
    console.log( hold(values) );

    // if I just use console.log
    // I get the latest values on each tick
    console.log(values);
 
    setTimeout(loop, 1000);
 
};

loop();
*/
 </script>


 </body>
</html>

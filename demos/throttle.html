 <!doctype html>
 <html>
 <head>
 <title> lodash </title>
 </head>
 <body>

 <script src = "../lodash.js" >  </script>
 <script>

    /*
    var sec = _.throttle(function(){

    console.log('every second');

    },1000);

    var hundredMS = _.throttle(function(){


    console.log('every one hundred ms');

    },100);


    var loop = function(){

    setTimeout(loop,33)

    sec();
    hundredMS();


    };

    loop();

    console.log(Object.create(sec));

     */

var throttle = function (func, rate) {

    var lastTime = new Date(),
    api;

    rate = rate || 1000;

    // define the api
    api = function () {

        var now = new Date();

        if (now - lastTime >= rate) {

            func();

            lastTime = now;

        }

    };

   // call now
    api.now = function(){

        func();

    };

    // return the api
    return api;

};


// using my throttle function
var foo = throttle(function(){

    console.log('foo');

},3000),

// a basic loop
loop = function(){

    setTimeout(loop,33);

    foo(); // foo every three seconds

};

// call once now
foo.now();

// start loop
loop();


 </script>

 </body>
</html>
